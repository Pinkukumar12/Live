
        /* --- 1. PRELOADER --- */
        const loaderText = document.getElementById('loader-text');
        const preloader = document.getElementById('preloader');
        const steps = ["INITIALIZING...", "LOADING ASSETS...", "CONNECTING SERVER...", "ACCESS GRANTED"];
        let stepIndex = 0;

        const interval = setInterval(() => {
            if(stepIndex < steps.length) {
                loaderText.innerText = steps[stepIndex];
                stepIndex++;
            } else {
                clearInterval(interval);
                preloader.style.opacity = '0';
                setTimeout(() => { preloader.style.display = 'none'; }, 500);
            }
        }, 500);

        /* --- 2. CUSTOM CURSOR LOGIC --- */
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        
        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;
            
            // Dot follows instantly
            cursorDot.style.left = `${posX}px`;
            cursorDot.style.top = `${posY}px`;

            // Outline follows with slight delay (animation in CSS)
            cursorOutline.animate({
                left: `${posX}px`,
                top: `${posY}px`
            }, { duration: 500, fill: "forwards" });
        });

        // Hover Effect for Cursor
        document.querySelectorAll('a, button, .hover-trigger').forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
        });

        /* --- 3. TYPING ANIMATION --- */
        const words = ["Full Stack Developer", "VPN Specialist", "Bug Hunter", "Tech Enthusiast"];
        let i = 0;
        let timer;

        function typeWriter() {
            const textElement = document.getElementById("typing-text");
            const word = words[i % words.length];
            let charIndex = 0;
            
            // Type word
            const typeInterval = setInterval(() => {
                textElement.innerHTML = word.substring(0, charIndex + 1);
                charIndex++;
                if (charIndex === word.length) {
                    clearInterval(typeInterval);
                    // Wait then delete
                    setTimeout(() => deleteWriter(word), 2000);
                }
            }, 100);
        }

        function deleteWriter(word) {
            const textElement = document.getElementById("typing-text");
            let charIndex = word.length;
            const deleteInterval = setInterval(() => {
                textElement.innerHTML = word.substring(0, charIndex - 1);
                charIndex--;
                if (charIndex === 0) {
                    clearInterval(deleteInterval);
                    i++;
                    typeWriter();
                }
            }, 50);
        }
        setTimeout(typeWriter, 2500); // Start after preloader

        /* --- 4. 3D TILT EFFECT --- */
        const cards = document.querySelectorAll('.tilt-card');
        
        cards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg rotation
                const rotateY = ((x - centerX) / centerX) * 10;

                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = `perspective(1000px) rotateX(0) rotateY(0)`;
            });
        });

        /* --- 5. SCROLL REVEAL --- */
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        /* --- 6. IP FETCHER --- */
        fetch('https://ipapi.co/json/')
            .then(res => res.json())
            .then(data => {
                document.getElementById('user-ip').innerText = data.ip || "Hidden";
                document.getElementById('user-location').innerText = data.city || "Unknown";
            })
            .catch(() => {
                document.getElementById('user-ip').innerText = "Hidden";
            });

        /* --- 7. MODALS --- */
        const modalContainer = document.getElementById('modal-container');
        const modalBody = document.getElementById('modal-body');

        const modalContentMap = {
            contact: `
                <p class="text-sm text-gray-400 mb-4">Choose a platform to connect:</p>
                <div class="flex flex-col gap-3">
                    <a href="mailto:email@example.com" class="bg-[#30363d] p-3 rounded flex items-center justify-center gap-2 hover:bg-[#fff] hover:text-black transition text-white decoration-none hover-trigger">
                        <i class="fas fa-envelope"></i> Send Email
                    </a>
                    <a href="https://t.me/YOUR_USER" class="bg-[#0088cc] p-3 rounded flex items-center justify-center gap-2 text-white decoration-none hover:bg-[#0077b5] transition hover-trigger">
                        <i class="fab fa-telegram"></i> Telegram Message
                    </a>
                </div>
            `,
            share: `
                <p class="text-sm text-gray-400 mb-4">Share this portfolio:</p>
                <div class="flex justify-center gap-6 text-3xl">
                    <i class="fab fa-whatsapp text-green-500 cursor-pointer hover:scale-110 transition hover-trigger"></i>
                    <i class="fab fa-twitter text-blue-400 cursor-pointer hover:scale-110 transition hover-trigger"></i>
                    <i class="fas fa-copy text-gray-200 cursor-pointer hover:scale-110 transition hover-trigger" onclick="alert('Link Copied!')"></i>
                </div>
            `
        };

        function openModal(type) {
            modalBody.innerHTML = modalContentMap[type];
            modalContainer.classList.add('active');
        }
        function closeModal() {
            modalContainer.classList.remove('active');
        }
        modalContainer.addEventListener('click', (e) => {
            if(e.target === modalContainer) closeModal();
        });

        /* --- 8. THEME TOGGLE --- */
        const themeBtn = document.getElementById('theme-toggle');
        const body = document.body;
        themeBtn.addEventListener('click', () => {
            if (body.classList.contains('dark-theme')) {
                body.classList.replace('dark-theme', 'light-theme');
                themeBtn.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                body.classList.replace('light-theme', 'dark-theme');
                themeBtn.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });

        /* --- 9. BACKGROUND PARTICLES --- */
        const canvas = document.getElementById('hero-background-canvas');
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();

        let particles = [];
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2;
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if(this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if(this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }
            draw() {
                ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--accent-primary').trim();
                ctx.globalAlpha = 0.3; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
            }
        }
        for(let k=0; k<50; k++) particles.push(new Particle());
        function animate() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        animate();

